{"version":3,"sources":["utils/marketplace.js","utils/config.js","utils/near.js","Components/utils/Cover.js","Components/Wallet.js","assets/img/sandwich.jpg","Components/utils/Loader.js","Components/utils/Notifications.js","Components/marketplace/AddProduct.js","Components/marketplace/Product.js","Components/marketplace/Products.js","App.js","reportWebVitals.js","index.js"],"names":["getProducts","console","log","window","contract","buyProduct","a","price","id","productId","CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","nearEnv","initiallizeContract","connect","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","walletConnection","WalletConnection","accountId","getAccountId","Contract","account","viewMethods","changeMethods","accountBalance","getAccountBalance","walletBalance","formatNearAmount","total","login","requestSignIn","logout","signOut","location","reload","Cover","name","coverImg","className","style","background","minHeight","maxWidth","src","alt","Button","onClick","variant","Wallet","address","amount","symbol","destroy","Dropdown","Toggle","align","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","Loader","role","Notification","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","NotificationSuccess","text","NotificationError","DefaultProps","defaultProps","AddProduct","save","useState","setName","image","setImage","description","setDescription","setLocation","setPrice","show","setShow","handleClose","width","class","Modal","onHide","centered","Header","closeButton","Title","Form","Body","FloatingLabel","controlId","label","Control","type","onChange","e","value","placeholder","height","Footer","disabled","Product","product","buy","sold","owner","Col","Card","Badge","bg","objectFit","Text","utils","format","Products","products","setProducts","loading","setLoading","useCallback","getProductList","error","addProduct","data","uuid4","parseNearAmount","setProduct","then","resp","toast","useEffect","Row","xs","sm","lg","map","_product","App","fetchProducts","balance","setBalance","getBalance","length","Container","fluid","Nav","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","ReactDOM","createRoot","document","getElementById","render","catch","err"],"mappings":"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","file":"static/js/main.b2a275c9.chunk.js","sourcesContent":["import { parseNearAmount } from 'near-api-js/lib/utils/format';\r\nimport { v4 as uuid4 } from 'uuid';\r\n\r\nconst GAS = 100000000000000;\r\n////////////100000000000000 //14 (100 TGAS)\r\n\r\nexport const createProduct = (product) => {\r\n  console.log('createProduct fired');\r\n\r\n  product.id = uuid4();\r\n  product.price = parseNearAmount(product.price + '');\r\n  return window.contract.setProduct({ product });\r\n};\r\n\r\nexport const getProducts = () => {\r\n  console.log('getProducts fired');\r\n\r\n  return window.contract.getProducts();\r\n};\r\n\r\nexport const buyProduct = async ({ price, id }) => {\r\n  return await window.contract.buyProduct({ productId: id }, GAS, price);\r\n};\r\n","const CONTRACT_NAME = process.env.CONTRACT_NAME || \"mycontract.risingtide.testnet\"; // line 1\r\n\r\nfunction environment(env) {\r\n  switch (env) {\r\n    case \"mainnet\": // line 5\r\n      return {\r\n        networkId: \"mainnet\",\r\n        nodeUrl: \"https://rpc.mainnet.near.org\",\r\n        contractName: CONTRACT_NAME,\r\n        walletUrl: \"https://wallet.near.org\",\r\n        helperUrl: \"https://helper.mainnet.near.org\",\r\n        explorerUrl: \"https://explorer.mainnet.near.org\",\r\n      };\r\n    case \"testnet\": // line 14\r\n      return {\r\n        networkId: \"testnet\",\r\n        nodeUrl: \"https://rpc.testnet.near.org\",\r\n        contractName: CONTRACT_NAME,\r\n        walletUrl: \"https://wallet.testnet.near.org\",\r\n        helperUrl: \"https://helper.testnet.near.org\",\r\n        explorerUrl: \"https://explorer.testnet.near.org\",\r\n      };\r\n    default:\r\n      throw Error(`Unknown environment '${env}'.`);\r\n  }\r\n}\r\n\r\nexport default environment;\r\n","import environment from './config';\r\n\r\nimport { connect, Contract, keyStores, WalletConnection } from 'near-api-js';\r\nimport { formatNearAmount } from 'near-api-js/lib/utils/format';\r\n\r\nconst nearEnv = environment('testnet');\r\n\r\nexport const initiallizeContract = async () => {\r\n  const near = await connect({\r\n    ...nearEnv,\r\n    deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() },\r\n  });\r\n  window.walletConnection = new WalletConnection(near);\r\n  window.accountId = window.walletConnection.getAccountId();\r\n  window.contract = new Contract(window.walletConnection.account(), nearEnv.contractName, {\r\n    viewMethods: ['getProduct', 'getProducts'],\r\n    changeMethods: ['buyProduct', 'setProduct'],\r\n  });\r\n};\r\n\r\nexport const accountBalance = async () => {\r\n  console.log('AccountBalalance fired');\r\n  const walletBalance = await window.walletConnection.account().getAccountBalance();\r\n  return formatNearAmount(walletBalance.total, 2);\r\n};\r\n\r\nexport const getAccountId = async () => {\r\n  console.log('Get accountId fired');\r\n  return window.walletConnection.getAccountId();\r\n};\r\n\r\nexport const login = () => {\r\n  window.walletConnection.requestSignIn(nearEnv.contractName);\r\n};\r\n\r\nexport const logout = () => {\r\n  window.walletConnection.signOut();\r\n  //\r\n  window.location.reload();\r\n};\r\n","import { Button } from 'react-bootstrap';\r\n\r\nexport const Cover = ({ name, login, coverImg }) => {\r\n  if ((name, login, coverImg)) {\r\n    return (\r\n      <div\r\n        className=\"d-flex justify-content-center flex-column text-center \"\r\n        style={{ background: '#000', minHeight: '100vh' }}\r\n      >\r\n        <div className=\"mt-auto text-light mb-5\">\r\n          <div className=\" ratio ratio-1x1 mx-auto mb-2\" style={{ maxWidth: '320px' }}>\r\n            <img src={coverImg} alt=\"\" />\r\n          </div>\r\n          <h1>{name}</h1>\r\n          <p>Please connect your wallet to continue.</p>\r\n          <Button onClick={login} variant=\"outline-light\" className=\"rounded-pill px-3 mt-3\">\r\n            Connect Wallet\r\n          </Button>\r\n        </div>\r\n        <p className=\"mt-auto text-secondary\">Powered by NEAR</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n","import React from 'react';\r\nimport { Dropdown, Stack, Spinner } from 'react-bootstrap';\r\n\r\nexport const Wallet = ({ address, amount, symbol, destroy }) => {\r\n  if (address) {\r\n    return (\r\n      <>\r\n        <Dropdown>\r\n          <Dropdown.Toggle\r\n            variant=\"light\"\r\n            align=\"end\"\r\n            id=\"dropdown-basic\"\r\n            className=\"d-flex align-items-center border rounded-pill py-1\"\r\n          >\r\n            {amount ? (\r\n              <>\r\n                {amount} <span className=\"ms-1\"> {symbol}</span>\r\n              </>\r\n            ) : (\r\n              <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />\r\n            )}\r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu className=\"shadow-lg border-0\">\r\n            <Dropdown.Item\r\n              href={`https://explorer.testnet.near.org/accounts/${address}`}\r\n              target=\"_blank\"\r\n            >\r\n              <Stack direction=\"horizontal\" gap={2}>\r\n                <i className=\"bi bi-person-circle fs-4\" />\r\n                <span className=\"font-monospace\">{address}</span>\r\n              </Stack>\r\n            </Dropdown.Item>\r\n\r\n            <Dropdown.Divider />\r\n            <Dropdown.Item\r\n              as=\"button\"\r\n              className=\"d-flex align-items-center\"\r\n              onClick={() => {\r\n                destroy();\r\n              }}\r\n            >\r\n              <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\r\n              Disconnect\r\n            </Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/sandwich.2d312449.jpg\";","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst Loader = () => (\r\n  <div className=\"d-flex justify-content-center\">\r\n    <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </Spinner>\r\n  </div>\r\n);\r\nexport default Loader;\r\n","import React from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst Notification = () => (\r\n  <ToastContainer\r\n    position=\"bottom-center\"\r\n    autoClose={5000}\r\n    hideProgressBar\r\n    newestOnTop\r\n    closeOnClick\r\n    rtl={false}\r\n    pauseOnFocusLoss\r\n    draggable={false}\r\n    pauseOnHover\r\n  />\r\n);\r\n\r\nconst NotificationSuccess = ({ text }) => (\r\n  <div>\r\n    <i className=\"bi bi-check-circle-fill text-success mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nconst NotificationError = ({ text }) => (\r\n  <div>\r\n    <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nconst Props = {\r\n  text: PropTypes.string,\r\n};\r\n\r\nconst DefaultProps = {\r\n  text: '',\r\n};\r\n\r\nNotificationSuccess.propTypes = Props;\r\nNotificationSuccess.defaultProps = DefaultProps;\r\n\r\nNotificationError.propTypes = Props;\r\nNotificationError.defaultProps = DefaultProps;\r\n\r\nexport { Notification, NotificationSuccess, NotificationError };\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button, Modal, Form, FloatingLabel } from 'react-bootstrap';\r\n\r\nconst AddProduct = ({ save }) => {\r\n  const [name, setName] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [location, setLocation] = useState('');\r\n  const [price, setPrice] = useState(0);\r\n  const isFormFilled = () => name && image && description && location && price;\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={handleShow}\r\n        variant=\"dark\"\r\n        className=\"rounded-pill px-0\"\r\n        style={{ width: '38px' }}\r\n      >\r\n        <i class=\"bi bi-plus\"></i>\r\n      </Button>\r\n      <Modal show={show} onHide={handleClose} centered>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>New Product</Modal.Title>\r\n        </Modal.Header>\r\n        <Form>\r\n          <Modal.Body>\r\n            <FloatingLabel controlId=\"inputName\" label=\"Product name\" className=\"mb-3\">\r\n              <Form.Control\r\n                type=\"text\"\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n                placeholder=\"Enter name of product\"\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel controlId=\"inputUrl\" label=\"Image URL\" className=\"mb-3\">\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Image URL\"\r\n                onChange={(e) => {\r\n                  setImage(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel controlId=\"inputDescription\" label=\"Description\" className=\"mb-3\">\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                placeholder=\"description\"\r\n                style={{ height: '80px' }}\r\n                onChange={(e) => {\r\n                  setDescription(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel controlId=\"inputLocation\" label=\"Location\" className=\"mb-3\">\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Location\"\r\n                onChange={(e) => {\r\n                  setLocation(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel controlId=\"inputPrice\" label=\"Price\" className=\"mb-3\">\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Price\"\r\n                onChange={(e) => {\r\n                  setPrice(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n          </Modal.Body>\r\n        </Form>\r\n        <Modal.Footer>\r\n          <Button variant=\"outline-secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            variant=\"dark\"\r\n            disabled={!isFormFilled()}\r\n            onClick={() => {\r\n              save({\r\n                name,\r\n                image,\r\n                description,\r\n                location,\r\n                price,\r\n              });\r\n              handleClose();\r\n            }}\r\n          >\r\n            Save product\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nAddProduct.propTypes = {\r\n  save: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddProduct;\r\n","import React from 'react';\r\nimport { utils } from 'near-api-js';\r\nimport { Card, Button, Col, Badge, Stack } from 'react-bootstrap';\r\n\r\nexport const Product = ({ product, buy }) => {\r\n  const { id, price, name, description, sold, location, image, owner } = product;\r\n\r\n  const triggerBuy = () => {\r\n    buy(id, price);\r\n  };\r\n\r\n  return (\r\n    <Col key={id}>\r\n      <Card className=\" h-100\">\r\n        <Card.Header>\r\n          <Stack direction=\"horizontal\" gap={2}>\r\n            <span className=\"font-monospace text-secondary\">{owner}</span>\r\n            <Badge bg=\"secondary\" className=\"ms-auto\">\r\n              {sold} Sold\r\n            </Badge>\r\n          </Stack>\r\n        </Card.Header>\r\n        <div className=\" ratio ratio-4x3\">\r\n          <img src={image} alt={name} style={{ objectFit: 'cover' }} />\r\n        </div>\r\n        <Card.Body className=\"d-flex  flex-column text-center\">\r\n          <Card.Title>{name}</Card.Title>\r\n          <Card.Text className=\"flex-grow-1 \">{description}</Card.Text>\r\n          <Card.Text className=\"text-secondary\">\r\n            <span>{location}</span>\r\n          </Card.Text>\r\n          <Button variant=\"outline-dark\" onClick={triggerBuy} className=\"w-100 py-3\">\r\n            Buy for {utils.format.formatNearAmount(price)} NEAR\r\n          </Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n  );\r\n};\r\n","import { useCallback, useEffect, useState } from 'react';\r\nimport { Row } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { buyProduct, createProduct, getProducts as getProductList } from '../../utils/marketplace';\r\nimport Loader from '../utils/Loader';\r\nimport { NotificationError, NotificationSuccess } from '../utils/Notifications';\r\nimport AddProduct from './AddProduct';\r\nimport { Product } from './Product';\r\n\r\nexport const Products = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getProducts = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setProducts(await getProductList());\r\n    } catch (error) {\r\n      console.log({ error });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  });\r\n\r\n  const addProduct = async (data) => {\r\n    try {\r\n      setLoading(true);\r\n      createProduct(data).then((resp) => {\r\n        getProducts();\r\n      });\r\n      toast(<NotificationSuccess text=\"Product added successfully.\" />);\r\n    } catch (error) {\r\n      console.log({ error });\r\n      toast(<NotificationError text=\"Failed to create a product.\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const buy = async (id, price) => {\r\n    try {\r\n      await buyProduct({\r\n        id,\r\n        price,\r\n      }).then((resp) => getProducts());\r\n      toast('Product bought successfully');\r\n    } catch (error) {\r\n      toast('Failed to purchase product.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {!loading ? (\r\n        <>\r\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n            <h1 className=\"fs-4 fw-bold mb-0\">Street Food</h1>\r\n            <AddProduct save={addProduct} />\r\n          </div>\r\n          <Row xs={1} sm={2} lg={3} className=\"g-3  mb-5 g-xl-4 g-xxl-5\">\r\n            {products.map((_product) => (\r\n              <Product\r\n                product={{\r\n                  ..._product,\r\n                }}\r\n                buy={buy}\r\n              />\r\n            ))}\r\n          </Row>\r\n        </>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { useCallback, useEffect, useState } from 'react';\nimport './App.css';\nimport { getProducts } from './utils/marketplace';\nimport { accountBalance, login, logout as destroy } from './utils/near';\nimport { Nav, Container } from 'react-bootstrap';\nimport { Cover } from './Components/utils/Cover';\nimport { Wallet } from './Components/Wallet';\nimport coverImg from './assets/img/sandwich.jpg';\nimport { Products } from './Components/marketplace/Products';\nimport { Notification } from './Components/utils/Notifications';\n\nconst App = () => {\n  console.log('Render================');\n  const account = window.walletConnection.account();\n  console.log('Account ', account);\n\n  const [products, setProducts] = useState([]);\n\n  const fetchProducts = useCallback(async () => {\n    if (account.accountId) {\n      setProducts(await getProducts());\n    }\n  });\n\n  const [balance, setBalance] = useState('0');\n\n  const getBalance = useCallback(async () => {\n    if (account.accountId) {\n      setBalance(await accountBalance());\n    }\n  });\n\n  useEffect(() => {\n    console.log('getBalance was invoked');\n    getBalance();\n  }, []);\n\n  useEffect(() => {\n    console.log('getProducts was invoked');\n    if (products.length === 0) fetchProducts();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      <Notification />\n      {account.accountId ? (\n        <Container fluid=\"md\">\n          <Nav className=\"justify-content-end pt-3 pb-5\">\n            <Nav.Item>\n              <Wallet\n                address={account.accountId}\n                amount={balance}\n                symbol=\"NEAR\"\n                destroy={destroy}\n              />\n            </Nav.Item>\n          </Nav>\n          <main>\n            <Products />\n          </main>\n        </Container>\n      ) : (\n        <Cover name=\"Street Food\" login={login} coverImg={coverImg} />\n      )}\n      {/* {account.accountId ? (\n        products.forEach((product) => console.log('product:', product))\n      ) : (\n        <button onClick={login}>Connect to NEAR Wallet</button>\n      )} */}\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { initiallizeContract } from './utils/near';\n\nimport 'bootstrap';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nwindow.nearInitPromise = initiallizeContract()\n  .then(() => {\n    const root = ReactDOM.createRoot(document.getElementById('root'));\n    root.render(\n      // <React.StrictMode>\n      <App />\n      // </React.StrictMode>\n    );\n  })\n  .catch((err) => {\n    console.error(err);\n  });\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}